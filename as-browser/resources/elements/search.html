<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/iron-signals/iron-signals.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/iron-flex-layout/iron-flex-layout.html">

<dom-module id="as-search">

    <link rel="import" type="css" href="../style/as-browser.css">
    <link rel="import" type="css" href="../style/haskell.font.css">
    <style>
      :host {
        /* layout properties for the host element */
        @apply(--layout-horizontal);
        @apply(--layout-center);
      }
    </style>

  <template>
      <paper-input label="Search text" class="top_input" value="{{crit::input}}" id="criteria"></paper-input>
      <paper-icon-button icon="search" on-click="onSearch"></paper-icon-button>
      <iron-ajax on-response="handleSearch" handleAs="json" id="ajaxSearch" auto ></iron-ajax>
  </template>
  <script>
	Polymer({
		is:"as-search",
    crit:"",
    onSearch:function(){
      if (this.crit){
        this.$.ajaxSearch.url="/json/search/"+this.crit;
      }

    },
    handleSearch:function(e){
      var res=e.detail.response;
      console.log(res);
    }

  });
  </script>
</dom-module>
